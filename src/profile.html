{% extends "student_base.html" %}

{% block title %}EduBridge - Student Profile{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="student_profile_page.css" />
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
  <!-- Main Content / Profile Section -->
  <div class="content">
    <div class="profile-header">
      <h1>My Profile</h1>
      <button class="edit-profile-btn"><i class="fas fa-edit"></i> Edit Profile</button>
    </div>

      <div class="profile-container">
        <!-- Profile Sidebar -->
        <div class="profile-sidebar">
          <img src="images/image.png" alt="Profile Avatar" class="profile-avatar" />
          <h2 class="profile-name">John Doe</h2>
          <p class="profile-title">Student</p>
          <div class="profile-contact">
            <div class="contact-item"><i class="fas fa-envelope"></i><span>john.doe@example.com</span></div>
            <div class="contact-item"><i class="fas fa-phone"></i><span>(555) 987-6543</span></div>
            <div class="contact-item"><i class="fas fa-school"></i><span>XYZ High School</span></div>
            <div class="contact-item"><i class="fas fa-id-card"></i><span>Student ID: 215487</span></div>
            <div class="contact-item"><i class="fas fa-calendar-alt"></i><span>Joined: Mar 2025</span></div>
          </div>
        </div>

      <!-- Profile Main -->
      <div class="profile-main">
        <!-- Performance Summary Cards -->
        <div class="info-card">
          <h3 class="card-title"><i class="fas fa-chart-pie"></i> Performance Summary</h3>
          <div class="performance-summary">
            <!-- Summary cards will be inserted here by JS -->
            <div class="loading-spinner"></div>
          </div>
        </div>
        
        <!-- Performance Analytics Card -->
        <div class="info-card">
          <h3 class="card-title"><i class="fas fa-chart-line"></i> Performance Analytics</h3>
          <div class="tab-container">
            <div class="tabs">
              <div class="tab active" data-tab="overall">Quiz Performance</div>
              <div class="tab" data-tab="classes">Class Overview</div>
            </div>
            
            <!-- Quiz Performance Tab -->
            <div class="tab-content active" id="overall-tab">
              <div class="chart-container">
                <canvas id="performanceChart" width="400" height="300"></canvas>
              </div>
            </div>
            
            <!-- Class Overview Tab -->
            <div class="tab-content" id="classes-tab">
              <div class="class-performance">
                <!-- Class cards will be inserted here by JS -->
                <div class="loading-spinner"></div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Recent Quizzes Card -->
        <div class="info-card">
          <h3 class="card-title"><i class="fas fa-history"></i> Recent Quizzes</h3>
          <div class="recent-quizzes">
            <!-- Recent quiz cards will be inserted here by JS -->
            <div class="loading-spinner"></div>
          </div>
        </div>
        
        <!-- Achievements Card -->
        <div class="info-card">
          <h3 class="card-title"><i class="fas fa-award"></i> Achievements</h3>
          <div class="achievements-container">
            <!-- Achievements will be inserted here by JS -->
            <div class="loading-spinner"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

    <!-- Floating Chatbot Icon -->
    <div class="chatbot-icon">
      <i class="fas fa-comment-dots"></i>
    </div>

    <!-- Modal for Editing Profile -->
    <div id="profileModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Edit Profile</h2>
          <span id="closeModal" class="close">&times;</span>
        </div>
        <form id="profileForm">
          <div class="form-group">
            <label for="fullName">Full Name</label>
            <input type="text" id="fullName" name="fullName" required>
          </div>
          <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" required>
          </div>
          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" name="phone" required>
          </div>
          <div class="form-group">
            <label for="institution">Institution</label>
            <input type="text" id="institution" name="institution" required>
          </div>
          <div class="form-group">
            <label for="title">Student Title</label>
            <input type="text" id="title" name="title" placeholder="e.g. Sophomore, Junior, etc." required>
          </div>
          <div class="modal-footer">
            <button type="button" class="cancel-btn">Cancel</button>
            <button type="submit" class="submit-btn">Save Changes</button>
          </div>
        </form>
      </div>
    </div>

    <script src="student_profile_page.js"></script>
{% endblock %}