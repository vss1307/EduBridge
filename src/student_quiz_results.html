<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EduBridge - Quiz Results</title>
  <link href="https://fonts.googleapis.com/css?family=Google+Sans:400,500,700|Roboto:300,400,500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="student_classroom.css">
  <link rel="stylesheet" href="quiz-common.css">
  <link rel="stylesheet" href="student_quiz_results.css">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <div class="navbar">
    <div class="nav-left">
      <button id="hamburger" class="hamburger" aria-label="Menu"><i class="fas fa-bars"></i></button>
      <div class="logo"><i class="fas fa-graduation-cap"></i> EduBridge</div>
    </div>
    <div class="nav-right">
      <div class="profile-wrapper">
        <img src="images/image.png" alt="Profile" class="profile-icon">
        <div class="profile-dropdown">
          <a href="/profile"><i class="fas fa-user-circle"></i> Show Profile</a>
          <a href="/login"><i class="fas fa-sign-out-alt"></i> Log Out</a>
        </div>
      </div>
    </div>
  </div>
  
  <div class="sidebar">
    <ul>
      <li><a href="/dashboard" id="nav-dashboard"><i class="fas fa-home"></i><span class="text">Dashboard</span></a></li>
      <li><a href="/calendar" id="nav-calendar"><i class="fas fa-calendar-alt"></i><span class="text">Calendar</span></a></li>
      <li><a href="/todo" id="nav-todo"><i class="fas fa-check-circle"></i><span class="text">To-do</span></a></li>
      <li><a href="/profile" id="nav-profile"><i class="fas fa-user-circle"></i><span class="text">Profile</span></a></li>
      <li><a href="/settings" id="nav-settings"><i class="fas fa-cog"></i><span class="text">Settings</span></a></li>
    </ul>
  </div>

  <!-- Script to set active nav item -->
  <script>
    // Get current page path and set active nav item
    const currentPath = window.location.pathname;
    
    // For quiz results, highlight dashboard since it's part of classroom flow
    document.getElementById('nav-dashboard').classList.add('active');
  </script>
  
  <div class="content">
    <div id="error-container"></div>
    
    <div id="loading-container" class="loading-container">
      <div class="spinner"></div>
      <p>Loading quiz results...</p>
    </div>
    
    <div id="results-container" class="quiz-container results-container" style="display: none;">
      <div class="quiz-header">
        <div class="quiz-header-left">
          <h1 class="quiz-title" id="quiz-title">Quiz Results</h1>
          <p class="quiz-description" id="quiz-description">Your results for this quiz</p>
        </div>
        <div class="quiz-header-actions">
          <button id="back-to-classroom" class="btn btn-outline">
            <i class="fas fa-arrow-left"></i> Back to Classroom
          </button>
        </div>
      </div>
      
      <div class="student-results-summary">
        <div class="result-card">
          <div class="result-header">
            <h3>Your Score</h3>
          </div>
          <div class="result-body">
            <div class="score-display">
              <div class="score-circle">
                <div class="score-percentage" id="score-percentage">0%</div>
              </div>
              <div class="score-details">
                <div class="score-text">
                  <span id="score-value">0</span>/<span id="max-score">0</span> points
                </div>
                <div class="submission-time" id="submission-time">
                  Submitted on: <span id="submitted-date">-</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="result-card grading-status" id="grading-status">
          <div class="result-header">
            <h3>Grading Status</h3>
          </div>
          <div class="result-body">
            <div class="status-icon">
              <i class="fas fa-clipboard-check"></i>
            </div>
            <div class="status-text" id="status-text">Your submission has been graded</div>
          </div>
        </div>
      </div>
      
      <div class="quiz-materials">
        <h3>Quiz Materials</h3>
        <div class="materials-cards">
          <div class="material-card">
            <div class="material-icon">
              <i class="fas fa-file-pdf"></i>
            </div>
            <div class="material-name">Question Paper</div>
            <a id="question-paper-link" class="btn btn-outline btn-sm" target="_blank">
              <i class="fas fa-external-link-alt"></i> View
            </a>
          </div>
          
          <div class="material-card" id="answer-submission-card">
            <div class="material-icon">
              <i class="fas fa-file-upload"></i>
            </div>
            <div class="material-name">Your Submission</div>
            <a id="submission-link" class="btn btn-outline btn-sm" target="_blank">
              <i class="fas fa-external-link-alt"></i> View
            </a>
          </div>
        </div>
      </div>
      
      <div class="teacher-feedback" id="feedback-section" style="display: none;">
        <h3>Teacher Feedback</h3>
        <div class="feedback-content" id="feedback-content">
          No feedback provided yet.
        </div>
      </div>
      
      <div class="grading-details" id="grading-details-section" style="display: none;">
        <h3>Grading Details</h3>
        <div class="grading-table-wrapper">
          <table class="grading-table">
            <thead>
              <tr>
                <th>Question</th>
                <th>Your Answer</th>
                <th>Score</th>
              </tr>
            </thead>
            <tbody id="grading-details-body">
              <!-- Grading details will be populated here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Chatbot Floating Icon -->
  <div class="chatbot-icon" id="chatbotIcon">
    <i class="fas fa-comment-dots"></i>
  </div>

  <script src="student_quiz_results.js"></script>
</body>
</html> 